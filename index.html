<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday ğŸ’–</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to bottom right, #f9f7f7, #e3d5ca);
      overflow-x: hidden;
    }

    /* Fade-in animation */
    .fade-in {
      animation: fadeIn 2s ease-in forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    /* Typing animation */
    .typing::after {
      content: '|';
      animation: blink 0.8s infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }

    /* Confetti animation */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background-color: #f0ece2;
      top: -10px;
      animation: fall 3s linear infinite;
      opacity: 0.8;
    }
    @keyframes fall {
      to { transform: translateY(100vh) rotate(360deg); }
    }
  </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen text-gray-700">

  <!-- Step 1: Input Nama -->
  <section id="nameInputSection" class="flex flex-col items-center justify-center min-h-screen bg-[#f9f7f7] text-center fade-in fixed inset-0 z-50">
    <h1 class="text-3xl md:text-5xl font-playfair mb-6 text-[#c9d6df]">Masukkan Nama Ulang Tahun ğŸ‚</h1>
    <input id="nameInput" type="text" placeholder="Contoh: Dinda" class="border border-[#c9d6df] rounded-xl px-4 py-2 text-center mb-4 w-64 focus:outline-none focus:ring-2 focus:ring-[#c9d6df]">
    <button id="nextBtn" class="bg-[#e3d5ca] hover:bg-[#c9d6df] text-gray-700 px-6 py-3 rounded-2xl font-semibold transition duration-500 ease-in-out">Next â¡ï¸</button>
  </section>

  <!-- Step 2: Intro Screen -->
  <section id="intro" class="hidden flex-col items-center justify-center min-h-screen bg-[#f9f7f7] text-center fade-in fixed inset-0 z-40">
    <h1 id="introText" class="text-4xl md:text-6xl font-playfair mb-6 text-[#c9d6df]"></h1>
    <button id="openBtn" class="bg-[#e3d5ca] hover:bg-[#c9d6df] text-gray-700 px-6 py-3 rounded-2xl font-semibold transition duration-500 ease-in-out">Open ğŸ</button>
  </section>

  <!-- Step 3: Main Content -->
  <main id="mainContent" class="hidden flex-col items-center justify-center p-6 space-y-8 text-center">
    <h2 class="text-3xl md:text-4xl font-playfair text-[#c9d6df] fade-in">ğŸ’– For You ğŸ’–</h2>
    <p id="message" class="text-lg md:text-xl max-w-xl typing"></p>

    <!-- Foto teman -->
    <img src="https://via.placeholder.com/200" alt="Foto Teman" class="rounded-full shadow-lg w-48 h-48 object-cover border-4 border-[#f0ece2] transition duration-500 ease-in-out hover:scale-105">

    <!-- Galeri -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <img src="https://via.placeholder.com/150" class="rounded-xl shadow-md hover:scale-105 transition duration-500 ease-in-out" alt="">
      <img src="https://via.placeholder.com/150" class="rounded-xl shadow-md hover:scale-105 transition duration-500 ease-in-out" alt="">
      <img src="https://via.placeholder.com/150" class="rounded-xl shadow-md hover:scale-105 transition duration-500 ease-in-out" alt="">
      <img src="https://via.placeholder.com/150" class="rounded-xl shadow-md hover:scale-105 transition duration-500 ease-in-out" alt="">
    </div>

    <!-- Musik -->
    <audio id="bgMusic" loop>
      <source src="https://cdn.pixabay.com/download/audio/2022/08/04/audio_3b6a51062e.mp3?filename=sunrise-music-114337.mp3" type="audio/mpeg">
    </audio>
    <button id="musicBtn" class="bg-[#c9d6df] px-4 py-2 rounded-xl text-gray-700 transition duration-500 ease-in-out hover:bg-[#e3d5ca]">Play Music ğŸµ</button>

    <!-- Tombol Surprise -->
    <button id="surpriseBtn" class="bg-[#f0ece2] px-6 py-3 rounded-2xl text-gray-700 font-semibold transition duration-500 ease-in-out hover:bg-[#c9d6df]">ğŸ Surprise!</button>
    <div id="surpriseMessage" class="hidden text-2xl mt-4 text-[#c9d6df] font-playfair fade-in">ğŸ’Œ You are one of the most amazing people Iâ€™ve ever met ğŸ’–</div>
  </main>

  <script>
    const nameInputSection = document.getElementById('nameInputSection');
    const nameInput = document.getElementById('nameInput');
    const nextBtn = document.getElementById('nextBtn');
    const intro = document.getElementById('intro');
    const introText = document.getElementById('introText');
    const openBtn = document.getElementById('openBtn');
    const mainContent = document.getElementById('mainContent');
    const message = document.getElementById('message');
    const text = "Wishing you a day filled with laughter, love, and the things you enjoy the most. You deserve all the happiness in the world. Happy Birthday! ğŸ’•";

    let friendName = '';

    // Step 1 -> Step 2
    nextBtn.addEventListener('click', () => {
      const name = nameInput.value.trim();
      if (name === '') {
        alert('Masukkan nama dulu ya!');
        return;
      }
      friendName = name;
      introText.textContent = `ğŸ‰ Happy Birthday, ${friendName}! ğŸ‚`;
      nameInputSection.classList.add('hidden');
      intro.classList.remove('hidden');
    });

    // Step 2 -> Step 3
    openBtn.addEventListener('click', () => {
      intro.classList.add('hidden');
      mainContent.classList.remove('hidden');
      typeMessage();
      createConfetti();
    });

    // Typing effect
    let index = 0;
    function typeMessage() {
      if (index < text.length) {
        message.innerHTML += text.charAt(index);
        index++;
        setTimeout(typeMessage, 50);
      }
    }

    // Music toggle
    const musicBtn = document.getElementById('musicBtn');
    const bgMusic = document.getElementById('bgMusic');
    let playing = false;
    musicBtn.addEventListener('click', () => {
      if (!playing) {
        bgMusic.play();
        musicBtn.textContent = "Pause Music â¸ï¸";
      } else {
        bgMusic.pause();
        musicBtn.textContent = "Play Music ğŸµ";
      }
      playing = !playing;
    });

    // Surprise button
    const surpriseBtn = document.getElementById('surpriseBtn');
    const surpriseMessage = document.getElementById('surpriseMessage');
    surpriseBtn.addEventListener('click', () => {
      surpriseMessage.classList.toggle('hidden');
    });

    // Confetti
    function createConfetti() {
      for (let i = 0; i < 30; i++) {
        const conf = document.createElement('div');
        conf.classList.add('confetti');
        conf.style.left = Math.random() * 100 + 'vw';
        conf.style.backgroundColor = ['#e3d5ca', '#c9d6df', '#f0ece2'][Math.floor(Math.random()*3)];
        conf.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(conf);
        setTimeout(() => conf.remove(), 5000);
      }
    }
  </script>
</body>
</html>-4 rounded-md bg-white/70 border border-gray-100">
                  <p id="typedMessage" class="text-gray-700 typing"></p>
                </div>

                <!-- candles visual -->
                <div class="mt-6 flex items-center gap-3">
                  <div class="w-28 h-12 bg-gradient-to-b from-white to-gray-100 rounded-md flex items-center justify-center">
                    <div class="flex gap-3 items-end">
                      <div class="flex flex-col items-center gap-1">
                        <div class="flame"></div>
                        <div class="w-2 h-6 bg-pink-200 rounded"></div>
                      </div>
                      <div class="flex flex-col items-center gap-1">
                        <div class="flame"></div>
                        <div class="w-2 h-6 bg-yellow-200 rounded"></div>
                      </div>
                      <div class="flex flex-col items-center gap-1">
                        <div class="flame"></div>
                        <div class="w-2 h-6 bg-blue-200 rounded"></div>
                      </div>
                    </div>
                  </div>

                  <button id="surpriseBtn" class="ml-auto px-4 py-2 rounded-md border border-gray-200 transition duration-500 hover:scale-105">Surprise</button>
                </div>
              </div>
            </div>

            <!-- full message text (hidden but typed) -->
            <div class="mt-6 text-sm text-gray-600">
              <p class="leading-relaxed">Kamu layak mendapatkan semua kebahagiaan. Hari ini adalah milikmu â€” semoga semua impian mendekat dan hari-hari ke depan penuh berkah.</p>
            </div>
          </div>

          <!-- Right column: gallery + controls -->
          <aside class="soft-card p-6">
            <h3 class="text-lg font-semibold mb-3">Galeri</h3>
            <div class="grid gallery-cols grid-cols-3 gap-3">
              <!-- gallery items -->
              <div class="rounded-lg overflow-hidden h-20 flex items-center justify-center bg-gray-100 hover:scale-105 transition duration-500">Foto A</div>
              <div class="rounded-lg overflow-hidden h-20 flex items-center justify-center bg-gray-100 hover:scale-105 transition duration-500">Foto B</div>
              <div class="rounded-lg overflow-hidden h-20 flex items-center justify-center bg-gray-100 hover:scale-105 transition duration-500">Foto C</div>
              <div class="rounded-lg overflow-hidden h-20 flex items-center justify-center bg-gray-100 hover:scale-105 transition duration-500">Foto D</div>
              <div class="rounded-lg overflow-hidden h-20 flex items-center justify-center bg-gray-100 hover:scale-105 transition duration-500">Foto E</div>
              <div class="rounded-lg overflow-hidden h-20 flex items-center justify-center bg-gray-100 hover:scale-105 transition duration-500">Foto F</div>
            </div>

            <div class="mt-6 flex gap-3">
              <button id="balloonBtn" class="flex-1 py-2 rounded-md border border-gray-200 transition duration-500">Balloons</button>
              <button id="confettiBtn" class="flex-1 py-2 rounded-md border border-gray-200 transition duration-500">Confetti</button>
            </div>

            <div class="mt-4 text-xs text-gray-400">
              <p>Tip: Klik 'Music' di atas untuk memulai musik latar. Gunakan tombol 'Surprise' untuk pesan rahasia.</p>
            </div>
          </aside>

        </div>
      </section>

    </section>
  </main>

  <!-- secret overlay -->
  <div id="secretOverlay" class="fixed inset-0 bg-black/40 hidden items-center justify-center z-40">
    <div class="max-w-lg p-6 rounded-xl bg-white/90 soft-card">
      <h3 class="text-xl font-semibold" style="font-family: 'Playfair Display', serif;">Surprise ğŸ</h3>
      <p id="secretText" class="mt-3 text-gray-700">[Pesan rahasia akan muncul di sini]</p>
      <div class="mt-4 text-right">
        <button id="closeSecret" class="px-4 py-2 rounded-md border border-gray-200">Tutup</button>
      </div>
    </div>
  </div>

  <!-- audio (optional) -->
  <audio id="bgMusic" loop preload="none">
    <source src="https://cdn.pixabay.com/download/audio/2021/08/08/audio_3d4fd3d87d.mp3?filename=happy-acoustic-14082.mp3" type="audio/mpeg">
    <!-- placeholder source; user can replace with their own file -->
  </audio>

  <!-- JavaScript: interactions & animations -->
  <script>
    // Elements
    const nameInput = document.getElementById('nameInput');
    const previewBtn = document.getElementById('previewBtn');
    const openBtn = document.getElementById('openBtn');
    const openFromIntro = document.getElementById('openFromIntro');
    const introName = document.getElementById('introName');
    const introTitle = document.getElementById('introTitle');
    const miniName = document.getElementById('miniName');
    const miniPreview = document.getElementById('mini-preview');
    const introScreen = document.getElementById('intro-screen');

    const mainScreen = document.getElementById('main-screen');
    const mainName = document.getElementById('mainName');
    const typedMessageEl = document.getElementById('typedMessage');
    const mainPhoto = document.getElementById('mainPhoto');

    const surpriseBtn = document.getElementById('surpriseBtn');
    const secretOverlay = document.getElementById('secretOverlay');
    const secretText = document.getElementById('secretText');
    const closeSecret = document.getElementById('closeSecret');

    const balloonBtn = document.getElementById('balloonBtn');
    const confettiBtn = document.getElementById('confettiBtn');
    const balloonLayer = document.getElementById('balloon-layer');
    const confettiLayer = document.getElementById('confetti-layer');

    const musicToggle = document.getElementById('music-toggle');
    const bgMusic = document.getElementById('bgMusic');
    const musicIcon = document.getElementById('music-icon');

    // default message (multiline)
    const messageTemplate = `Hai {NAME},\n\nSelamat ulang tahun! Semoga hari ini membawa senyuman yang tak henti-henti, kebahagiaan yang tulus, dan keberkahan sepanjang tahun.\n\nTerima kasih sudah menjadi dirimu â€” hangat, unik, dan berarti. Semoga segala impianmu semakin mendekat. ğŸ‚\n\nSalam sayang,`;

    // typing function
    function typeText(targetEl, text, speed = 25) {
      targetEl.textContent = '';
      let i = 0;
      return new Promise(resolve => {
        const interval = setInterval(() => {
          targetEl.textContent += text.charAt(i);
          i++;
          if (i >= text.length) {
            clearInterval(interval);
            resolve();
          }
        }, speed);
      });
    }

    // Helper: set name across UI
    function setName(name){
      const safe = name?.trim() || "[Nama]";
      introName.textContent = safe;
      miniName.textContent = safe;
      mainName.textContent = safe;
      document.title = `Happy Birthday â€” ${safe}`;
      // update typed message template
      const msg = messageTemplate.replace(/{NAME}/g, safe);
      // reset typing
      typedMessageEl.textContent = '';
      // kick typing with a tiny delay for effect
      setTimeout(()=> typeText(typedMessageEl, msg, 28), 500);
    }

    // Preview action
    previewBtn.addEventListener('click', () => {
      const n = nameInput.value || nameInput.placeholder || 'Teman';
      setName(n);
      // show mini preview
      miniPreview.classList.remove('smooth-hidden');
      miniPreview.classList.add('smooth-visible');
      // hide after few seconds
      setTimeout(() => {
        miniPreview.classList.remove('smooth-visible');
        miniPreview.classList.add('smooth-hidden');
      }, 4000);
    });

    // Open actions (both buttons)
