<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday ğŸ’–</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to bottom right, #f9f7f7, #e3d5ca);
      overflow-x: hidden;
    }

    /* Fade-in animation */
    .fade-in {
      animation: fadeIn 2s ease-in forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    /* Typing animation */
    .typing::after {
      content: '|';
      animation: blink 0.8s infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }

    /* Confetti animation */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background-color: #f0ece2;
      top: -10px;
      animation: fall 3s linear infinite;
      opacity: 0.8;
    }
    @keyframes fall {
      to { transform: translateY(100vh) rotate(360deg); }
    }
  </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen text-gray-700">

  <!-- Step 1: Input Nama -->
  <section id="nameInputSection" class="flex flex-col items-center justify-center min-h-screen bg-[#f9f7f7] text-center fade-in fixed inset-0 z-50">
    <h1 class="text-3xl md:text-5xl font-playfair mb-6 text-[#c9d6df]">Masukkan Nama Ulang Tahun ğŸ‚</h1>
    <input id="nameInput" type="text" placeholder="Contoh: Dinda" class="border border-[#c9d6df] rounded-xl px-4 py-2 text-center mb-4 w-64 focus:outline-none focus:ring-2 focus:ring-[#c9d6df]">
    <button id="nextBtn" class="bg-[#e3d5ca] hover:bg-[#c9d6df] text-gray-700 px-6 py-3 rounded-2xl font-semibold transition duration-500 ease-in-out">Next â¡ï¸</button>
  </section>

  <!-- Step 2: Intro Screen -->
  <section id="intro" class="hidden flex-col items-center justify-center min-h-screen bg-[#f9f7f7] text-center fade-in fixed inset-0 z-40">
    <h1 id="introText" class="text-4xl md:text-6xl font-playfair mb-6 text-[#c9d6df]"></h1>
    <button id="openBtn" class="bg-[#e3d5ca] hover:bg-[#c9d6df] text-gray-700 px-6 py-3 rounded-2xl font-semibold transition duration-500 ease-in-out">Open ğŸ</button>
  </section>

  <!-- Step 3: Main Content -->
  <main id="mainContent" class="hidden flex-col items-center justify-center p-6 space-y-8 text-center">
    <h2 class="text-3xl md:text-4xl font-playfair text-[#c9d6df] fade-in">ğŸ’– For You ğŸ’–</h2>
    <p id="message" class="text-lg md:text-xl max-w-xl typing"></p>

    <!-- Foto teman -->
    <img src="https://via.placeholder.com/200" alt="Foto Teman" class="rounded-full shadow-lg w-48 h-48 object-cover border-4 border-[#f0ece2] transition duration-500 ease-in-out hover:scale-105">

    <!-- Galeri -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <img src="https://via.placeholder.com/150" class="rounded-xl shadow-md hover:scale-105 transition duration-500 ease-in-out" alt="">
      <img src="https://via.placeholder.com/150" class="rounded-xl shadow-md hover:scale-105 transition duration-500 ease-in-out" alt="">
      <img src="https://via.placeholder.com/150" class="rounded-xl shadow-md hover:scale-105 transition duration-500 ease-in-out" alt="">
      <img src="https://via.placeholder.com/150" class="rounded-xl shadow-md hover:scale-105 transition duration-500 ease-in-out" alt="">
    </div>

    <!-- Musik -->
    <audio id="bgMusic" loop>
      <source src="https://cdn.pixabay.com/download/audio/2022/08/04/audio_3b6a51062e.mp3?filename=sunrise-music-114337.mp3" type="audio/mpeg">
    </audio>
    <button id="musicBtn" class="bg-[#c9d6df] px-4 py-2 rounded-xl text-gray-700 transition duration-500 ease-in-out hover:bg-[#e3d5ca]">Play Music ğŸµ</button>

    <!-- Tombol Surprise -->
    <button id="surpriseBtn" class="bg-[#f0ece2] px-6 py-3 rounded-2xl text-gray-700 font-semibold transition duration-500 ease-in-out hover:bg-[#c9d6df]">ğŸ Surprise!</button>
    <div id="surpriseMessage" class="hidden text-2xl mt-4 text-[#c9d6df] font-playfair fade-in">ğŸ’Œ You are one of the most amazing people Iâ€™ve ever met ğŸ’–</div>
  </main>

  <script>
    const nameInputSection = document.getElementById('nameInputSection');
    const nameInput = document.getElementById('nameInput');
    const nextBtn = document.getElementById('nextBtn');
    const intro = document.getElementById('intro');
    const introText = document.getElementById('introText');
    const openBtn = document.getElementById('openBtn');
    const mainContent = document.getElementById('mainContent');
    const message = document.getElementById('message');
    const text = "Wishing you a day filled with laughter, love, and the things you enjoy the most. You deserve all the happiness in the world. Happy Birthday! ğŸ’•";

    let friendName = '';

    // Step 1 -> Step 2
    nextBtn.addEventListener('click', () => {
      const name = nameInput.value.trim();
      if (name === '') {
        alert('Masukkan nama dulu ya!');
        return;
      }
      friendName = name;
      introText.textContent = `ğŸ‰ Happy Birthday, ${friendName}! ğŸ‚`;
      nameInputSection.classList.add('hidden');
      intro.classList.remove('hidden');
    });

    // Step 2 -> Step 3
    openBtn.addEventListener('click', () => {
      intro.classList.add('hidden');
      mainContent.classList.remove('hidden');
      typeMessage();
      createConfetti();
    });

    // Typing effect
    let index = 0;
    function typeMessage() {
      if (index < text.length) {
        message.innerHTML += text.charAt(index);
        index++;
        setTimeout(typeMessage, 50);
      }
    }

    // Music toggle
    const musicBtn = document.getElementById('musicBtn');
    const bgMusic = document.getElementById('bgMusic');
    let playing = false;
    musicBtn.addEventListener('click', () => {
      if (!playing) {
        bgMusic.play();
        musicBtn.textContent = "Pause Music â¸ï¸";
      } else {
        bgMusic.pause();
        musicBtn.textContent = "Play Music ğŸµ";
      }
      playing = !playing;
    });

    // Surprise button
    const surpriseBtn = document.getElementById('surpriseBtn');
    const surpriseMessage = document.getElementById('surpriseMessage');
    surpriseBtn.addEventListener('click', () => {
      surpriseMessage.classList.toggle('hidden');
    });

    // Confetti
    function createConfetti() {
      for (let i = 0; i < 30; i++) {
        const conf = document.createElement('div');
        conf.classList.add('confetti');
        conf.style.left = Math.random() * 100 + 'vw';
        conf.style.backgroundColor = ['#e3d5ca', '#c9d6df', '#f0ece2'][Math.floor(Math.random()*3)];
        conf.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(conf);
        setTimeout(() => conf.remove(), 5000);
      }
    }
  </script>
</body>
</html>
